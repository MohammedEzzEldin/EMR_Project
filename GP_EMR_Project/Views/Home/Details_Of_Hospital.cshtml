@model GP_EMR_Project.Models.Medical_Organization

@{
    ViewBag.Title = "Details_Of_Hospital";
    Layout = "~/Views/Shared/_Main.cshtml";
}


<br />

<h2 style="text-align:center; font-style:italic;">Details</h2>
<hr />

<div style=" text-align:center">
    @{
        var src = "";
        try
        {
            src = Model.User.Photo_Url.Split(' ')[0];
        }
        catch { src = "~/Content/MainPageBootstrap/pic/c3-healthcare-logo-md.png"; }
    }
    <img src="@Url.Content(src)" class="img-thumbnail im" alt="Hospital img" style="border-radius:50%;" />
    <br />
    <small-star-rating>
        @{
            var rate = Model.Medium_Rate;
            var fraction = Model.Medium_Rate - Math.Truncate(Double.Parse(rate.ToString()));
            if (rate == null || rate == 0)
            {
                <div class="star"></div>
                <div class="star"></div>
                <div class="star "></div>
                <div class="star "></div>
                <div class="star"></div>
            }
            else
            {
                for (int j = 1; j <= 5; j++)
                {
                    if (j > (int)rate)
                    {
                        if (0.8 <= fraction)
                        {
                            <div class="star full"></div>
                        }
                        else if (0.4 <= fraction)
                        {
                            <div class="star Halfstar"></div>
                        }
                        else if (0.3 >= fraction)
                        {
                            <div class="star"></div>
                        }
                        fraction = 0;
                    }
                    else
                    {
                        <div class="star full"></div>
                    }
                }
            }
        }
    </small-star-rating>
</div>
<br />

<table class="table table-hover table-bordered" style="text-align:center;">

    <tr style="text-align:center">
        <th>Email</th>
        <th>Name</th>
        <th>Phone</th>
        <th>City</th>
        <th>Address</th>
    </tr>

    <tr style="text-align:center; color:blue">
        <td>@Html.DisplayFor(model => model.User.Email)</td>
        <td>@Html.DisplayFor(model => model.Medical_Org_Name)</td>
        <td>@Html.DisplayFor(model => model.User.Phone)</td>
        <td>@Html.DisplayFor(model => model.User.City)</td>
        <td>@Html.DisplayFor(model => model.User.Address)</td>
    </tr>

    <tr style="text-align:center;">
        <th></th>
        <th></th>
        <th>
            Number of Departments
        </th>
        <th></th>
        <th></th>
    </tr>

    <tr style="text-align:center; color:blue">
        <td></td>
        <td></td>
        <td>@Model.Departments.Count()</td>
        <td></td>
        <td></td>
    </tr>

    <tr style="text-align:center;">
        <td></td>
        <td></td>
        <td><a href="@Url.Action("Login","Home")" class="btn btn-outline-danger">Go To Book</a></td>
        <td></td>
        <td></td>
    </tr>
</table>
